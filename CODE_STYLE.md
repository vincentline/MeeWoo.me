# AI-HLP 代码规范文档

## 文档索引

1. [缩进规范](#1-缩进规范)
2. [命名规范](#2-命名规范)
   - [变量命名](#21-变量命名)
   - [函数命名](#22-函数命名)
   - [常量命名](#23-常量命名)
   - [组件/模块命名](#24-组件模块命名)
3. [代码组织规范](#3-代码组织规范)
4. [项目名命名规范](#4-项目名命名规范)
5. [代码注释规范](#5-代码注释规范)
   - [基本要求](#51-基本要求)
   - [函数/方法注释](#52-函数方法注释)
   - [类/模块注释](#53-类模块注释)
   - [文件注释](#54-文件注释)
   - [特殊代码注释](#55-特殊代码注释)
6. [代码生成改动规范](#6-代码生成改动规范)
   - [日志记录要求](#61-日志记录要求)
   - [代码修改规范](#62-代码修改规范)
   - [新功能实现规范](#63-新功能实现规范)

## 1. 缩进规范

- 缩进方式：使用 2个空格缩进（禁止使用 Tab）
- 缩进一致性：整个项目保持统一的缩进风格
- 换行缩进：多行代码时，延续行缩进 2 个空格

## 2. 命名规范

### 2.1 变量命名
- 变量命名用驼峰命名法：`camelCase`
- 变量命名使用有意义的名称：避免单字母变量，除非在循环中
- 布尔值变量：使用 `is`、`has`、`can`、`should` 前缀

### 2.2 函数命名
- 动词开头：表示具体动作，如 `openXxx`、`closeXxx`、`handleXxx`、`validateXxx`

### 2.3 常量命名
- 全大写 + 下划线：适用于配置项、常量值

### 2.4 组件/模块命名
- 名词形式：表示实体或概念

## 3. 代码组织规范

- 新功能尽量考虑文件架构，适合拆分模块独立js的，就不要写在app.js里
- 尽量保持模块内代码行数适中，避免过长
- 每个js文件都应有注释，描述其功能、属性、方法等

## 4. 项目名命名规范

- 新文件/模块前缀：使用 `MeeWoo` 作为项目级命名空间或前缀。
- 禁止使用旧前缀：新代码中禁止使用 `SvgaPreview` 作为变量或模块前缀。
- 功能性命名例外：`svga` 可作为功能性描述保留（如 `svga-player`），但不作为品牌前缀。
- 项目名称引用：涉及项目名称展示时，统一使用 `MeeWoo`。

## 5. 代码注释规范

### 5.1 基本要求
- 所有代码必须使用中文注释，描述功能、实现细节等
- 注释应简洁明了，避免冗余和模糊不清的表述
- 注释应与代码保持同步更新，避免过时注释

### 5.2 函数/方法注释
- 每个函数/方法都必须有注释
- 注释内容应包括：功能描述、参数说明、返回值说明等
- 复杂函数还应说明实现思路和注意事项

### 5.3 类/模块注释
- 每个类/模块都必须有注释
- 注释内容应包括：功能描述、主要属性、核心方法等

### 5.4 文件注释
- 每个文件头部必须有中文注释
- 注释内容应包括：文件功能、主要模块、作者信息等
- 模块分组时，模块头部应加标题说明
- 文件头部应添加模块索引，便于快速定位

### 5.5 特殊代码注释
- 频繁出错或容易出错的代码，必须在注释中说明原因和避免方法
- 临时解决方案或待优化代码，应在注释中标记并说明后续处理方向
  
## 6. 代码生成改动规范
- 每次生成和改动代码前必看下列规范
### 6.1 日志记录要求
- 每次改动完代码和文件，必须立即更新 `UPDATE_LOG.md` ，记录改动内容
- 记录格式：时间戳 【操作类型】 : 路径信息 - 更新简述（注意空格分隔）
- 时间戳：必须使用北京时间，使用JavaScript的new Date()获取当前系统真实时间，转换为 [YYYY-MM-DD HH:MM:SS] 格式，精确到秒
- 操作类型：新增文件、新增文件夹、删除文件、删除文件夹、修改文件、重命名文件、重命名文件夹、移动文件、移动文件夹
- 路径信息：使用相对路径
- 更新简述：如新增功能、修复问题、优化性能等，简单清晰描述
- 忽略规则：
  - 不记录.gitignore过滤的文件和文件夹的更新
  - 不记录本文件（UPDATE_LOG.md）自身的更新
- 更新日志后，必须自我验证：
  - 时间戳是否为正确的北京时间
  - 格式是否符合规范
  - 记录是否完整（包含所有必需字段）
- 日志清理规则：每月1日检查并删除超过60天的记录，或在专门的维护任务中执行
- 执行顺序：完成日志更新并验证通过后，才能进行其他文档更新或提交代码

### 6.2 代码修改规范
- 检查代码、修改代码必须仔细阅读注释，了解原有实现逻辑，避免重复犯错

### 6.3 新功能实现规范
- 新功能实现时，要考虑代码的可维护性和扩展性
- 代码生成前，要规划好目录结构
- 必须先梳理需求和代码逻辑、数据流，整理清晰后再进行代码生成和改动
- 生成脚本时，要考虑中文编码问题，避免乱码
