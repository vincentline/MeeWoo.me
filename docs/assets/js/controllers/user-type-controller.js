!function(e){"use strict";e.MeeWoo=e.MeeWoo||{},e.MeeWoo.Controllers=e.MeeWoo.Controllers||{};e.MeeWoo.Controllers.UserTypeController=new class{constructor(){this.initialized=!1,this.elements=new Map}async init(){this.initialized||(e.MeeWoo&&e.MeeWoo.Core&&e.MeeWoo.Core.SiteConfig&&await e.MeeWoo.Core.SiteConfig.ready(),this.findControlledElements(),this.applyUserTypeConfig(),this.initialized=!0)}findControlledElements(){document.querySelectorAll("[data-user-type]").forEach(e=>{const t=e.getAttribute("data-user-type");this.elements.has(t)||this.elements.set(t,[]),this.elements.get(t).push(e)})}getUserType(){return e.authUtils&&e.authUtils.isLoggedIn()?"internal":"public"}applyUserTypeConfig(){this.getUserType();let t={};e.MeeWoo&&e.MeeWoo.Core&&e.MeeWoo.Core.SiteConfig&&(t=e.MeeWoo.Core.SiteConfig.getUserTypeConfig());const{hideButtons:i=[]}=t;i.forEach(e=>{const t=this.elements.get(e);t&&t.forEach(e=>{this.hideElement(e)})}),this.elements.forEach((e,t)=>{i.includes(t)||e.forEach(e=>{this.showElement(e)})})}showElement(e){e&&(e.style.display="",e.style.visibility="visible",e.setAttribute("data-user-visible","true"))}hideElement(e){e&&(e.style.display="none",e.style.visibility="hidden",e.setAttribute("data-user-visible","false"))}isElementVisible(e){const t=this.elements.get(e);if(!t||0===t.length)return!1;const i=t[0];return i&&"true"===i.getAttribute("data-user-visible")}refresh(){this.findControlledElements(),this.applyUserTypeConfig()}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{e.MeeWoo.Controllers.UserTypeController.init()}):e.MeeWoo.Controllers.UserTypeController.init()}(window);